exports.id=930,exports.ids=[930],exports.modules={34145:(a,b,c)=>{"use strict";c.d(b,{default:()=>M});var d=c(60687),e=c(43210),f=c(55192),g=c(68988),h=c(24934),i=c(72951),j=c(78272),k=c(13964),l=c(3589),m=c(96241);function n({...a}){return(0,d.jsx)(i.bL,{"data-slot":"select",...a})}function o({...a}){return(0,d.jsx)(i.WT,{"data-slot":"select-value",...a})}function p({className:a,size:b="default",children:c,...e}){return(0,d.jsxs)(i.l9,{"data-slot":"select-trigger","data-size":b,className:(0,m.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...e,children:[c,(0,d.jsx)(i.In,{asChild:!0,children:(0,d.jsx)(j.A,{className:"size-4 opacity-50"})})]})}function q({className:a,children:b,position:c="popper",...e}){return(0,d.jsx)(i.ZL,{children:(0,d.jsxs)(i.UC,{"data-slot":"select-content",className:(0,m.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...e,children:[(0,d.jsx)(s,{}),(0,d.jsx)(i.LM,{className:(0,m.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:b}),(0,d.jsx)(t,{})]})})}function r({className:a,children:b,...c}){return(0,d.jsxs)(i.q7,{"data-slot":"select-item",className:(0,m.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),...c,children:[(0,d.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,d.jsx)(i.VF,{children:(0,d.jsx)(k.A,{className:"size-4"})})}),(0,d.jsx)(i.p4,{children:b})]})}function s({className:a,...b}){return(0,d.jsx)(i.PP,{"data-slot":"select-scroll-up-button",className:(0,m.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(l.A,{className:"size-4"})})}function t({className:a,...b}){return(0,d.jsx)(i.wn,{"data-slot":"select-scroll-down-button",className:(0,m.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(j.A,{className:"size-4"})})}var u=c(40211);function v({className:a,...b}){return(0,d.jsx)(u.bL,{"data-slot":"checkbox",className:(0,m.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...b,children:(0,d.jsx)(u.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,d.jsx)(k.A,{className:"size-3.5"})})})}function w({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,d.jsx)("table",{"data-slot":"table",className:(0,m.cn)("w-full caption-bottom text-sm",a),...b})})}function x({className:a,...b}){return(0,d.jsx)("thead",{"data-slot":"table-header",className:(0,m.cn)("[&_tr]:border-b",a),...b})}function y({className:a,...b}){return(0,d.jsx)("tbody",{"data-slot":"table-body",className:(0,m.cn)("[&_tr:last-child]:border-0",a),...b})}function z({className:a,...b}){return(0,d.jsx)("tr",{"data-slot":"table-row",className:(0,m.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...b})}function A({className:a,...b}){return(0,d.jsx)("th",{"data-slot":"table-head",className:(0,m.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...b})}function B({className:a,...b}){return(0,d.jsx)("td",{"data-slot":"table-cell",className:(0,m.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...b})}var C=c(26134),D=c(11860);function E({...a}){return(0,d.jsx)(C.bL,{"data-slot":"dialog",...a})}function F({...a}){return(0,d.jsx)(C.l9,{"data-slot":"dialog-trigger",...a})}function G({...a}){return(0,d.jsx)(C.ZL,{"data-slot":"dialog-portal",...a})}function H({className:a,...b}){return(0,d.jsx)(C.hJ,{"data-slot":"dialog-overlay",className:(0,m.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function I({className:a,children:b,showCloseButton:c=!0,...e}){return(0,d.jsxs)(G,{"data-slot":"dialog-portal",children:[(0,d.jsx)(H,{}),(0,d.jsxs)(C.UC,{"data-slot":"dialog-content",className:(0,m.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...e,children:[b,c&&(0,d.jsxs)(C.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,d.jsx)(D.A,{}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function J({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"dialog-header",className:(0,m.cn)("flex flex-col gap-2 text-center sm:text-left",a),...b})}function K({className:a,...b}){return(0,d.jsx)(C.hE,{"data-slot":"dialog-title",className:(0,m.cn)("text-lg leading-none font-semibold",a),...b})}var L=c(13861);function M({items:a}){let[b,c]=(0,e.useState)(""),[i,j]=(0,e.useState)(()=>a.every(a=>a.deleted)?"deleted":"all"),[k,l]=(0,e.useState)("newest"),[s,t]=(0,e.useState)({}),[u,C]=(0,e.useState)(1),[D,G]=(0,e.useTransition)(),H=(0,e.useMemo)(()=>Object.keys(s).filter(a=>s[a]),[s]),M=(0,e.useMemo)(()=>{let c=a;if(b.trim()){let a=b.toLowerCase();c=c.filter(b=>b.name.toLowerCase().includes(a)||b.email.toLowerCase().includes(a)||b.message.toLowerCase().includes(a))}return[...c="all"!==i?"deleted"===i?c.filter(a=>a.deleted):c.filter(a=>!a.deleted&&("approved"===i?a.approved:!a.approved)):c.filter(a=>!a.deleted)].sort((a,b)=>{switch(k){case"oldest":return new Date(a.createdAt).getTime()-new Date(b.createdAt).getTime();case"rating-desc":return b.rating-a.rating;case"rating-asc":return a.rating-b.rating;default:return new Date(b.createdAt).getTime()-new Date(a.createdAt).getTime()}})},[a,b,i,k]),N=Math.max(1,Math.ceil(M.length/10)),O=M.slice((u-1)*10,10*u),P=async a=>{await fetch("/api/feedback/moderation",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})}),window.location.reload()},Q=async a=>{await fetch(`/api/feedback/moderation?id=${encodeURIComponent(a)}`,{method:"DELETE"}),window.location.reload()},R=async a=>{await fetch("/api/feedback/moderation/restore",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})}),window.location.reload()},S=async()=>{for(let a of H)await P(a)},T=async()=>{for(let a of H)await Q(a)},U=async()=>{for(let a of H)await R(a)};return(0,d.jsx)(f.Zp,{children:(0,d.jsxs)(f.Wu,{className:"pt-6 space-y-4",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,d.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,d.jsxs)(n,{value:k,onValueChange:a=>{C(1),l(a)},children:[(0,d.jsx)(p,{className:"w-40",children:(0,d.jsx)(o,{placeholder:"Sort"})}),(0,d.jsxs)(q,{children:[(0,d.jsx)(r,{value:"newest",children:"Newest"}),(0,d.jsx)(r,{value:"oldest",children:"Oldest"}),(0,d.jsx)(r,{value:"rating-desc",children:"Rating ↓"}),(0,d.jsx)(r,{value:"rating-asc",children:"Rating ↑"})]})]}),(0,d.jsx)(g.p,{placeholder:"Search name, email, message",value:b,onChange:a=>{C(1),c(a.target.value)},className:"w-72"}),!a.every(a=>a.deleted)&&(0,d.jsxs)(n,{value:i,onValueChange:a=>{C(1),j(a)},children:[(0,d.jsx)(p,{className:"w-36",children:(0,d.jsx)(o,{placeholder:"Filter"})}),(0,d.jsxs)(q,{children:[(0,d.jsx)(r,{value:"all",children:"All"}),(0,d.jsx)(r,{value:"pending",children:"Pending"}),(0,d.jsx)(r,{value:"approved",children:"Approved"}),(0,d.jsx)(r,{value:"deleted",children:"Deleted"})]})]})]}),(0,d.jsxs)("div",{className:"flex gap-2 flex-wrap",children:["deleted"===i||a.every(a=>a.deleted)?(0,d.jsx)(h.$,{className:"shrink-0",variant:"secondary",disabled:0===H.length||D,onClick:()=>G(U),children:"Restore Selected"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.$,{className:"shrink-0",variant:"secondary",disabled:0===H.length||D,onClick:()=>G(S),children:"Approve Selected"}),(0,d.jsx)(h.$,{className:"shrink-0",variant:"destructive",disabled:0===H.length||D,onClick:()=>G(T),children:"Delete Selected"})]}),(0,d.jsx)(h.$,{className:"shrink-0",variant:"outline",onClick:()=>{let a=["id,name,email,message,rating,approved,createdAt"];M.forEach(b=>{let c=[b.id,b.name,b.email,b.message.replaceAll("\n"," ").replaceAll('"','"'),String(b.rating),String(b.approved),b.createdAt];a.push(c.map(a=>`"${a}"`).join(","))});let b=new Blob([a.join("\n")],{type:"text/csv;charset=utf-8;"}),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`feedback_export_${new Date().toISOString().slice(0,10)}.csv`,d.click(),URL.revokeObjectURL(c)},children:"Export CSV"})]})]}),(0,d.jsx)("div",{className:"border rounded-md overflow-x-auto",children:(0,d.jsxs)(w,{children:[(0,d.jsx)(x,{children:(0,d.jsxs)(z,{children:[(0,d.jsx)(A,{className:"w-[40px]",children:(0,d.jsx)(v,{checked:H.length>0&&H.length===M.length,onCheckedChange:a=>(a=>{let b={};M.forEach(c=>b[c.id]=a),t(b)})(!!a),"aria-label":"Select all"})}),(0,d.jsx)(A,{children:"Name"}),(0,d.jsx)(A,{children:"Email"}),(0,d.jsx)(A,{className:"min-w-[240px]",children:"Message"}),(0,d.jsx)(A,{children:"Rating"}),(0,d.jsx)(A,{children:"Status"}),(0,d.jsx)(A,{children:"Date"}),(0,d.jsx)(A,{className:"w-[160px]",children:"Actions"})]})}),(0,d.jsxs)(y,{children:[0===O.length&&(0,d.jsx)(z,{children:(0,d.jsx)(B,{colSpan:8,className:"text-center text-muted-foreground",children:"No results."})}),O.map(a=>(0,d.jsxs)(z,{className:(0,m.cn)(a.approved?"":"bg-muted/30"),children:[(0,d.jsx)(B,{children:(0,d.jsx)(v,{checked:!!s[a.id],onCheckedChange:b=>t(c=>({...c,[a.id]:!!b})),"aria-label":`Select ${a.name}`})}),(0,d.jsx)(B,{className:"font-medium",children:a.name}),(0,d.jsx)(B,{className:"text-sm text-muted-foreground",children:a.email}),(0,d.jsx)(B,{className:"text-sm max-w-[420px] truncate",title:a.message,children:a.message}),(0,d.jsxs)(B,{children:["⭐ ",a.rating]}),(0,d.jsx)(B,{children:a.deleted?"Deleted":a.approved?"Approved":"Pending"}),(0,d.jsx)(B,{className:"text-sm",children:new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),(0,d.jsx)(B,{children:(0,d.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,d.jsxs)(E,{children:[(0,d.jsx)(F,{asChild:!0,children:(0,d.jsx)(h.$,{size:"sm",variant:"ghost",children:(0,d.jsx)(L.A,{className:"h-4 w-4"})})}),(0,d.jsxs)(I,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,d.jsx)(J,{children:(0,d.jsx)(K,{children:"Feedback Details"})}),(0,d.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),(0,d.jsx)("p",{className:"text-sm font-semibold",children:a.name})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),(0,d.jsx)("p",{className:"text-sm",children:a.email})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Rating"}),(0,d.jsxs)("p",{className:"text-sm",children:["⭐ ",a.rating]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),(0,d.jsx)("p",{className:"text-sm",children:a.deleted?"Deleted":a.approved?"Approved":"Pending"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Date"}),(0,d.jsx)("p",{className:"text-sm",children:new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Message"}),(0,d.jsx)("div",{className:"bg-muted/50 p-4 rounded-md",children:(0,d.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:a.message})})]})]})]})]}),a.deleted?(0,d.jsx)(h.$,{size:"sm",onClick:()=>R(a.id),disabled:D,children:"Restore"}):(0,d.jsxs)(d.Fragment,{children:[!a.approved&&(0,d.jsx)(h.$,{size:"sm",onClick:()=>P(a.id),disabled:D,children:"Approve"}),(0,d.jsx)(h.$,{variant:"outline",size:"sm",onClick:()=>Q(a.id),disabled:D,children:"Delete"})]})]})})]},a.id))]})]})}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Page ",u," / ",N," \xb7 ",M.length," items"]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(h.$,{variant:"outline",size:"sm",disabled:u<=1,onClick:()=>C(a=>Math.max(1,a-1)),children:"Previous"}),(0,d.jsx)(h.$,{variant:"outline",size:"sm",disabled:u>=N,onClick:()=>C(a=>Math.min(N,a+1)),children:"Next"})]})]})]})})}},51358:(a,b,c)=>{"use strict";c.d(b,{Wu:()=>g,Zp:()=>f});var d=c(37413);c(61120);var e=c(66819);function f({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card",className:(0,e.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function g({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-content",className:(0,e.cn)("px-6",a),...b})}},66819:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(75986),e=c(8974);function f(...a){return(0,e.QP)((0,d.$)(a))}},68988:(a,b,c)=>{"use strict";c.d(b,{p:()=>f});var d=c(60687);c(43210);var e=c(96241);function f({className:a,type:b,...c}){return(0,d.jsx)("input",{type:b,"data-slot":"input",className:(0,e.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...c})}},79464:(a,b,c)=>{"use strict";c.d(b,{z:()=>e});var d=c(96330);let e=globalThis.prisma??new d.PrismaClient({log:["error","warn"]})},82235:(a,b,c)=>{Promise.resolve().then(c.bind(c,98680))},92851:(a,b,c)=>{Promise.resolve().then(c.bind(c,34145))},94592:(a,b,c)=>{"use strict";c.d(b,{$:()=>i});var d=c(37413);c(61120);var e=c(70403),f=c(50662),g=c(66819);let h=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i({className:a,variant:b,size:c,asChild:f=!1,...i}){let j=f?e.DX:"button";return(0,d.jsx)(j,{"data-slot":"button",className:(0,g.cn)(h({variant:b,size:c,className:a})),...i})}},98680:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\professional-portfolio\\\\components\\\\admin\\\\FeedbackManager.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\professional-portfolio\\components\\admin\\FeedbackManager.tsx","default")}};